# mdbenito

Just my site / portfolio / dump.

## Dependencies

Beyond the javascript listed in the credits, which is bundled, I'm
using the following [npm](https://www.npmjs.com/) packages for
deployment:

 * [cssnano-cli](https://www.npmjs.com/package/cssnano-cli)
 * [html-minifier-cli](https://www.npmjs.com/package/html-minifier)
 * [google-closure-compiler-js](https://www.npmjs.com/package/google-closure-compiler-js)
 * [aerobatic-cli](https://www.npmjs.com/package/aerobatic-cli)

Everything can be installed with e.g.  `sudo npm install -g
<packagename>`.


## Deployment

Continuous deployment to [aerobatic](https://www.aerobatic.com) is set
up with Bitbucket pipelines. If this is not working, then:

1. Minify / compile / consolidate assets with `make`. This should
   populate the directory `public` with the relevant files.
2. Set the environment variable `AEROBATIC_API_KEY` (run `aero apikey`
   to get it).
3. Run `aero deploy`.


## Remarks

* `public/files` contains things which are **not** in `src`, like
  pdfs, images, etc.

* Lazy Load XT: use the `data-src` attribute and don't forget the
  `noscript` trick to always display images in browsers without
  javascript.

* jqmath implements a very small subset of LaTeX. In particular
  greek letters have to be input in unicode (e.g. Î± instead of \alpha).

* The webfont is a stripped down version of Font Awesome done
  with [fontello](http://fontello.com). The config is in
  `src/fonts/fontello-config.json`.  **NOTE** that the generated CSS
  uses the relative path of the package, i.e. `../font/blah`, whereas
  I'm using `../font*s*/blah`.  **Don't** blindly overwrite
  `fa-mini.css`. Instead copy the new icons and fix the paths as
  indicated in `src/css/fa-mini.css`

## To do

* Use a staging branch.
* Reduce the size of the biggest SVGs, e.g. `cmusml.svg` (too many points in
  top-right subplot).
* Automate font generation with fontello API. Careful with overwriting
  local changes (see above).

## Credits

* Original site template: HTML5 UP, html5up.net | @n33co |
  [CCA 3.0 license](html5up.net/license)
* Demo images by [Unsplash](unsplash.com)
* Webfont generated by http://fontello.com, based on
  [Font Awesome](fortawesome.github.com/Font-Awesome).
* Javascript libraries:
    * jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc.
      (jquery.org/license)
    * html5shiv.js (@afarkas @jdalton @jon\_neal @rem)
    * CSS3 Pie (css3pie.com)
    * Respond.js (j.mp/respondjs)
    * tipsy version 1.0.0a (c) 2008-2010 jason frame
      [jason@onehackoranother.com] | MIT license
    * skel.js v3.0.0 | (c) n33 | skel.io | MIT license
    * Lazy Load XT 1.1.0. | MIT license
    * jqmath 0.4.3. | (c) 2015, Mathscribe, Inc. | MIT license

## License

This site and its contents are licensed
under [CC BY](https://creativecommons.org/licenses/by/4.0/) unless
otherwise specified or previously licensed.

